<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>使用 Google Maps 的互動式時間線地圖</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        #map-container {
            width: 600px;
            height: 400px;
            position: relative;
            border: 1px solid #ccc;
        }
        #info {
            width: 300px;
            margin-left: 20px;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        #info img {
            max-width: 100%;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div id="map-container"></div>
    <div id="info">
        <h2>點擊地圖上的標記查看詳情</h2>
        <div id="content"></div>
    </div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC2f0iPMobzDBrbUUCxjOQvjVLKL9U9B6Y"></script>
    <script>
        const locations = {
            1: {
                position: { lat: 25.0339, lng: 121.5644 },
                title: "台北 101",
                color: "red",
                content: [
                    { year: 1990, description: "台北101建造前的景象", image: "/api/placeholder/280/200" },
                    { year: 2004, description: "台北101落成", image: "/api/placeholder/280/200" },
                    { year: 2024, description: "台北101現況", image: "/api/placeholder/280/200" }
                ]
            },
            2: {
                position: { lat: 25.0421, lng: 121.5074 },
                title: "西門町",
                color: "blue",
                content: [
                    { year: 1980, description: "西門町早期風貌", image: "/api/placeholder/280/200" },
                    { year: 2000, description: "西門町轉型為年輕人聚集地", image: "/api/placeholder/280/200" },
                    { year: 2024, description: "西門町現況", image: "/api/placeholder/280/200" }
                ]
            },
            3: {
                position: { lat: 25.0367, lng: 121.4999 },
                title: "龍山寺",
                color: "green",
                content: [
                    { year: 1950, description: "龍山寺建造初期", image: "/api/placeholder/280/200" },
                    { year: 1985, description: "龍山寺整修後", image: "/api/placeholder/280/200" },
                    { year: 2024, description: "龍山寺現況", image: "/api/placeholder/280/200" }
                ]
            },
            4: {
                position: { lat: 25.1024, lng: 121.5485 },
                title: "國立故宮博物院",
                color: "purple",
                content: [
                    { year: 1965, description: "國立故宮博物院建立", image: "/api/placeholder/280/200" },
                    { year: 1990, description: "故宮擴建", image: "/api/placeholder/280/200" },
                    { year: 2024, description: "故宮現況", image: "/api/placeholder/280/200" }
                ]
            },
            5: {
                position: { lat: 25.0359, lng: 121.5215 },
                title: "中正紀念堂",
                color: "orange",
                content: [
                    { year: 1980, description: "中正紀念堂落成", image: "/api/placeholder/280/200" },
                    { year: 2000, description: "中正紀念堂舉辦大型展覽", image: "/api/placeholder/280/200" },
                    { year: 2024, description: "中正紀念堂現況", image: "/api/placeholder/280/200" }
                ]
            }
        };
        let map;
        let markers = [];
        
        function createCustomMarker(color) {
            return {
                path: google.maps.SymbolPath.CIRCLE,
                fillColor: color,
                fillOpacity: 0.8,
                strokeWeight: 2,
                strokeColor: '#ffffff',
                scale: 10
            };
        }

        function initMap() {
            map = new google.maps.Map(document.getElementById('map-container'), {
                center: { lat: 25.0330, lng: 121.5654 },
                zoom: 12
            });
            for (let id in locations) {
                const location = locations[id];
                const marker = new google.maps.Marker({
                    position: location.position,
                    map: map,
                    title: location.title,
                    icon: createCustomMarker(location.color)
                });
                marker.addListener('click', () => showInfo(id));
                markers.push(marker);
            }
            
            // 設置地圖的初始位置為台北車站
            const taipeiStation = { lat: 25.0478, lng: 121.5172 };
            map.setCenter(taipeiStation);
            map.setZoom(13);
        }
        
        function showInfo(id) {
            const location = locations[id];
            const content = document.getElementById('content');
            content.innerHTML = `<h3>${location.title}</h3>`;
            location.content.forEach(item => {
                content.innerHTML += `
                    <h4>${item.year}</h4>
                    <p>${item.description}</p>
                    <img src="${item.image}" alt="${item.description}">
                `;
            });
        }
        initMap();
    </script>
</body>
</html>